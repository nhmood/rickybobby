<%- include('partials/_head'); %>
<body>
  <div class="container">
    <%- include('partials/_header'); %>


    <div id="main" class="row">
      <%- include('partials/_pagination', {
        base: `/users`,
        prev_page: pagination.data.prev_page,
        next_page: pagination.data.next_page
      }); %>

      <div class="row component users">
        <% users.data.forEach(function(group){ %>
          <div class="row">
            <% group.forEach(function(user){ %>
              <div class="two columns user-list">
                <div class="row">
                  <img class="u-full-width profile-list" src="<%= user.image_url %>"></img>
                </div>
                <div class="row">
                  <a href="/users/<%= user.username %>"><%= user.username %></a>
                </div>
              </div><!-- user -->
            <% }); %>
          </div>
        <% }); %>
      </div><!-- users -->
    </div><!-- main -->
  </div><!-- container -->
</body>


<pre class="hide" data-type="riders">
  <%= users.debug %>
</pre>

<script>
  let debug = document.getElementsByTagName("pre");
  let data = Array.from(debug).reduce((result, item) => {
    let type =item.dataset.type;
    result[type] = JSON.parse(item.innerHTML);
    return result;
  }, {})
</script>


<%- include('partials/_end'); %>
